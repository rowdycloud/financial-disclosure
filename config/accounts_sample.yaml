# =============================================================================
# ACCOUNTS CONFIGURATION
# =============================================================================
#
# This file defines your financial accounts and their settings.
#
# Usage: cp accounts_sample.yaml accounts.yaml
#
# The tool can also create accounts.yaml interactively when it encounters
# unmapped files. Use --no-interactive to skip unmapped files instead.
#
# OPENING BALANCE
# ---------------
# The opening_balance field sets the starting balance for running balance
# calculations. There are three ways to set it:
#
# 1. CLI Command (recommended for existing accounts):
#    financial-consolidator --set-balance ACCOUNT_ID --balance AMOUNT --balance-date DATE
#    Example: --set-balance chase_checking --balance 5234.56 --balance-date 2024-01-01
#
# 2. Interactive Prompt (during new account creation):
#    When a new file is detected and you create an account interactively,
#    you'll be prompted to enter the opening balance.
#
# 3. Auto-Inference (leave unset):
#    If opening_balance is not set, the system will attempt to infer it
#    from the first transaction's balance column (if available in CSV).
#    Formula: opening_balance = first_balance - first_amount
#    If inference fails, defaults to $0.00.
#
# CREDIT CARD NOTE
# ----------------
# Balance inference works best for asset accounts (checking/savings).
# For credit cards, the "balance" column semantics vary by bank:
# - Some show amount owed (positive = debt)
# - Some show available credit
# If inference produces unexpected results, use --set-balance to correct.
#
# =============================================================================

# File to account mappings
# Map specific filenames to account IDs
file_mappings:
  chase-checking-2024.CSV: chase_checking
  chase-checking-2025.CSV: chase_checking
  amex-platinum-*.csv: amex_platinum
  new-savings-*.csv: new_savings

# Account definitions
accounts:
  # Example: Account with explicit opening balance
  chase_checking:
    name: "Chase Checking ****1234"
    type: "checking"
    institution: "Chase"
    account_number_masked: "1234"
    # Opening balance set via CLI or interactive prompt
    # This is the balance BEFORE the first transaction in your data
    opening_balance: 5234.56
    opening_balance_date: "2024-01-01"
    source_file_patterns:
      - "*chase*checking*.csv"
      - "*chase*checking*.ofx"
    display_order: 1

  # Example: Account without opening balance (will be inferred)
  amex_platinum:
    name: "Amex Platinum ****5678"
    type: "credit_card"
    institution: "American Express"
    account_number_masked: "5678"
    # opening_balance not set - will be inferred from transaction data
    # If CSV has a Balance column, system calculates:
    #   opening = first_balance - first_amount
    # Otherwise defaults to $0.00
    source_file_patterns:
      - "*amex*platinum*.csv"
      - "*amex*platinum*.ofx"
    display_order: 2

  # Example: Account starting from zero
  new_savings:
    name: "New Savings Account"
    type: "savings"
    institution: "Local Bank"
    account_number_masked: "9012"
    # Explicit zero - this account started with no balance
    opening_balance: 0
    opening_balance_date: "2024-06-01"
    source_file_patterns:
      - "*new*savings*.csv"
    display_order: 3

# Account types supported:
# - checking
# - savings
# - credit_card
# - loan
# - investment
# - crypto
# - cash
# - other
